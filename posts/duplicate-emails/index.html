<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>REPOST - Shell games - who confirmed attendance | C'est la Z</title>
<link href="../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/custom.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" href="../../index.atom">
<link rel="canonical" href="http://cestlaz.github.io/posts/duplicate-emails/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Mike Zamansky">
<link rel="prev" href="../bash-scripting/" title="BASH scripting?" type="text/html">
<link rel="next" href="../shell-short-tagging/" title="Shell short - tagging old posts in Nikola" type="text/html">
<meta property="og:site_name" content="C'est la Z">
<meta property="og:title" content="REPOST - Shell games - who confirmed attendance">
<meta property="og:url" content="http://cestlaz.github.io/posts/duplicate-emails/">
<meta property="og:description" content="Repost


This is a repost from March 2015. It didn't transfer when I rebooted the blog.





Original


Quick post on why I love the Unix command line.



We're busy organizing CSTUY's first hackathon">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-05-12T09:52:25-04:00">
<meta property="article:tag" content="cli">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="shell">
<meta property="article:tag" content="tools">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">


            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://cestlaz.github.io/">
						<img class="zlogo" src="../../assets/images/thluffy.jpg" id="logo"><span class="zname" id="blog-title">C'est la Z</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav navbar-right zmenu">
<li class="zitem">
<a href="../../categories">Tags</a>
                </li>
<li class="zitem">
<a href="../../stories/emacs">Emacs</a>
                </li>
<li class="zitem">
<a href="../../stories/flask">Flask</a>
                </li>
<li class="zitem">
<a href="http://github.com/zamansky">GitHub</a>
                </li>
<li class="zitem">
<a href="../../archive.html">Archive</a>
                </li>
<li class="zitem">
<a href="../../stories/about">About</a>
                </li>
<li class="zitem">
<a href="../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-left">
 <input type="hidden" name="sites" value="http://cestlaz.github.io/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
 <!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><h2 class="text-center">
		Musings about education, computer science,</h2>
		<h3 class="text-center">and maybe a few other miscellaneous topics.
</h3>
<!-- End of Menubar -->

<div class="container" id="content" role="main">
		<div class="body-content">
				<!--Body content-->
				<div class="row">
						<div class="col-md-1"></div>
						<div class="col-md-8">
				
								
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">REPOST - Shell games - who confirmed attendance</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    Mike Zamansky
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2016-05-12T09:52:25-04:00" itemprop="datePublished" title="2016-05-12 09:52">2016-05-12 09:52</time></a></p>
                <p class="commentline">            <a href="#disqus_thread" data-disqus-identifier="cache/posts/duplicate-emails.html">Comments</a>


            
        </p>
</div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Repost</h2>
<div class="outline-text-2" id="text-1">
<p>
This is a repost from March 2015. It didn't transfer when I rebooted the blog.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Original</h2>
<div class="outline-text-2" id="text-2">
<p>
Quick post on why I love the Unix command line.
</p>

<p>
We're busy organizing <a href="http://cstuy.org">CSTUY's</a> first <a href="http://cstuy.org/programs/defhacks">hackathon</a>. It's going to be at
<a href="http://sumall.com">SumAll</a>, where we hold our weekly <a href="http://cstuy.org/programs/hacking_sessions">hacking sessions</a> but while taking
registration, we had a little program.
</p>

<p>
The kids signed up on a Google doc but we all know the story – when
people sign up for a free event, even one with free food and t-shirts,
many don't show. I asked all of the applicants to confirm by filling
out a second Google doc.
</p>

<p>
Then it got to reminder time - I wanted to send an email out to all
those kids who signed up on the first form, but hadn't confirmed on
the second. 
</p>

<p>
Two Google spreadsheets with an email field. I needed all the people
on sheet 1 that weren't on sheet 2. I'm sure there's some
spreadsheet-fu that accomplishes this, but nothing I know. I also
could have written a little python script which isn't so bad, but this
was a perfect time to turn to the shell.
</p>

<p>
So, here's how a command line guy would do this.
</p>

<p>
To start, I put the emails in two files: e1 and e2. The first has
all the original applicants, the second those that confirmed.
</p>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="left">
<col class="left">
<col class="left">
</colgroup>
<thead><tr>
<th scope="col" class="left">e1</th>
<th scope="col" class="left"> </th>
<th scope="col" class="left">e2</th>
</tr></thead>
<tbody>
<tr>
<td class="left">a@a.com</td>
<td class="left"> </td>
<td class="left">b@b.com</td>
</tr>
<tr>
<td class="left">b@b.com</td>
<td class="left"> </td>
<td class="left">F@f.com</td>
</tr>
<tr>
<td class="left">c@c.com</td>
<td class="left"> </td>
<td class="left">c@c.com</td>
</tr>
<tr>
<td class="left">d@d.com</td>
<td class="left"> </td>
<td class="left">d@d.com</td>
</tr>
<tr>
<td class="left">e@e.com</td>
<td class="left"> </td>
<td class="left"> </td>
</tr>
<tr>
<td class="left">f@f.com</td>
<td class="left"> </td>
<td class="left"> </td>
</tr>
<tr>
<td class="left">g@g.com</td>
<td class="left"> </td>
<td class="left"> </td>
</tr>
<tr>
<td class="left">h@h.com</td>
<td class="left"> </td>
<td class="left"> </td>
</tr>
</tbody>
</table>
<p>
If we put these lists together, any email that appears twice would
indicate that it's the email of someone that confirmed entry. Here we
use cat to catenate e1 and e2 and pipe them through sort.
</p>

<div class="highlight"><pre><span></span>cat e1 e2 | sort
</pre></div>

<p>
First problem –the upper case F – let's use <b><b>tr</b></b> to make
everything lower case:
</p>

<div class="highlight"><pre><span></span>cat e1 e2 |  tr A-Z a-z | sort
</pre></div>

<p>
Now we can see the duplicates next to each other. Next, <b><b>uniq
-c</b></b> tells us how many times each line appears:
</p>

<div class="highlight"><pre><span></span>cat e1 e2 | tr A-Z a-z | sort | uniq -c | sort
</pre></div>

<p>
I added the sort at the end, but we didn't need it.
</p>

<p>
Here's what we get:
</p>

<p class="verse">
1 a@a.com<br>
 1 c@c.com<br>
 1 c@c.dom<br>
 1 e@e.com<br>
 1 g@g.com<br>
 1 h@hc.om<br>
 2 b@b.com<br>
 2 d@d.com<br>
 2 f@f.com<br></p>

<p>
To pull out the ones that haven't replied I used egrep with a regex
that means "any line that starts with 1 or more spaces followed by the
number 1":
</p>

<div class="highlight"><pre><span></span>cat e1 e2 | tr A-z a-z | sort | uniq -c | egrep "^ +1"
</pre></div>

<p>
and finally to isolate the emails using sed which removes the spaces
and number 1 from the beginning of the line:
</p>

<div class="highlight"><pre><span></span>cat e1 e2 | tr A-z a-z | sort | uniq -c | egrep "^ +1" | sed "s/\ \+1 //g"
</pre></div>

<p>
Each of the little utilities aren't all too useful by themselves but
if you learn them over time you start thinking about how you can
combine them to solve problems. 
</p>

<p>
If you think this way and know some basic tools, all of a sudden all
manner of text manipulation problems become pretty easy.
</p>
</div>
</div>

<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style addthis_32x32_style">
<a class="addthis_button_twitter"></a>
<a class="addthis_button_facebook"></a>
<a class="addthis_button_google_plusone_share"></a>
<a class="addthis_button_hackernews"></a>
<a class="addthis_button_reddit"></a>
<a class="addthis_button_gmail"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50c49121003efecd"></script><!-- AddThis Button END -->
</div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/cli/" rel="tag">cli</a></li>
            <li><a class="tag p-category" href="../../categories/linux/" rel="tag">linux</a></li>
            <li><a class="tag p-category" href="../../categories/shell/" rel="tag">shell</a></li>
            <li><a class="tag p-category" href="../../categories/tools/" rel="tag">tools</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../bash-scripting/" rel="prev" title="BASH scripting?">Previous post</a>
            </li>
            <li class="next">
                <a href="../shell-short-tagging/" rel="next" title="Shell short - tagging old posts in Nikola">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="cestlaz",
            disqus_url="http://cestlaz.github.io/posts/duplicate-emails/",
        disqus_title="REPOST - Shell games - who confirmed attendance",
        disqus_identifier="cache/posts/duplicate-emails.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="cestlaz";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
						<div class="col-md-3">
                                                <br><!-- feedburner subscribe via email --><form style="border:1px solid #ccc;padding:3px;text-align:center;" action="http://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('http://feedburner.google.com/fb/a/mailverify?uri=CestLaZ', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
<p>Enter your email address:</p>
<p><input type="text" style="width:140px" name="email"></p>
<input type="hidden" value="CestLaZ" name="uri"><input type="hidden" name="loc" value="en_US"><input type="submit" value="Subscribe"><p>Delivered by <a href="http://feedburner.google.com" target="_blank">FeedBurner</a></p>
</form>
								<!--  feedburner subscribe end -->


<!-- Twitter sidebar start -->
								<table class="table"><tr><td>
												<a class="twitter-timeline" href="https://twitter.com/zamansky" data-widget-id="251117725303312385">Tweets by @zamansky</a>
												<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</td></tr></table>
<!-- Twitter sidebar end -->
</div>
						<!--End of body content-->

						<footer id="footer">
								Contents © 2017         <a href="mailto:zamansky@gmail.com">Mike Zamansky</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
								
						</footer>
</div>
		</div>

		<div>
				<!-- analytics MZ -->
				<!-- getclicky tracking code -->
				<a title="Google Analytics Alternative" href="http://clicky.com/100530816"><img alt="Google Analytics Alternative" src="//static.getclicky.com/media/links/badge.gif" border="0"></a>
				<script src="//static.getclicky.com/js" type="text/javascript"></script><script type="text/javascript">try{ clicky.init(100530816); }catch(e){}</script><noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100530816ns.gif"></p></noscript>
				<!-- endgetclicky -->

				<!-- google analytics code -->
				<script type="text/javascript">
				 var _gaq = _gaq || [];
				 _gaq.push(['_setAccount', 'UA-35203750-1']);
				 _gaq.push(['_trackPageview']);
				 (function() {
						 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
						 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
						 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
				 })();
				</script><!-- end google analytics -->
</div>
		
		            <script src="../../assets/js/jquery.min.js"></script><script src="../../assets/js/bootstrap.min.js"></script><script src="../../assets/js/moment-with-locales.min.js"></script><script src="../../assets/js/fancydates.js"></script><script src="../../assets/js/jquery.colorbox-min.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
		 moment.locale("en");
		 fancydates(0, "YYYY-MM-DD HH:mm");
		</script><!-- end fancy dates -->
</div>
</body>
</html>
